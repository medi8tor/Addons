local L,N=...local u,b=HeroCache,N.Utils local O=N.Unit local y,P,H=O.Player,O.Pet,O.Target local l,f=O.Focus,O.MouseOver local j,e,W=O.Arena,O.Boss,O.Nameplate local r,S=O.Party,O.Raid local M=N.Spell local o=N.Item local t=UnitCastingInfo local h=UnitChannelInfo local s=GetTime function O.CastingInfo(L)local N=L:ID()if not N then return end return t(N)end function O.ChannelingInfo(L)local N=L:ID()if not N then return end return h(N)end function O.CastName(L)local N=L:CastingInfo()return N end function O.ChannelName(L)local N=L:ChannelingInfo()return N end function O.CastSpellID(L)local N,u,b,O,y,P,H,l,f=L:CastingInfo()return f end function O.ChannelSpellID(L)local N,u,b,O,y,P,H,l=L:ChannelingInfo()return l end function O.CastCost(L)local N=L:CastSpellID()if N then return(M(N)):Cost(1,"\099\111\115\116")end return 0 end function O.IsCasting(N,L)local u,b,O,y,P,H,l,f,j=N:CastingInfo()if L then return j==L:ID()and true or false end return u and true or false end function O.IsChanneling(N,L)local u,b,O,y,P,H,l,f=N:ChannelingInfo()if L then return f==L:ID()and true or false end return u and true or false end function O.IsInterruptible(L)local N,u,b,O,y,P,H,l=L:CastingInfo()local f,j,e,W,r,S,M=L:ChannelingInfo()return(l==false or M==false)and true or false end function O.CastStart(L)local N,u,b,O=L:CastingInfo()local y,P,H,l=L:ChannelingInfo()if O then return O/1000 end if l then return l/1000 end return 0 end function O.ChannelStart(L)return L:CastStart()end function O.CastEnd(L)local N,u,b,O,y=L:CastingInfo()local P,H,l,f,j=L:ChannelingInfo()if y then return y/1000 end if j then return j/1000 end return 0 end function O.ChannelEnd(L)return L:CastEnd()end function O.CastDuration(L)local N,u,b,O,y=L:CastingInfo()local P,H,l,f,j=L:ChannelingInfo()if O then return(y-O)/1000 end if f then return(j-f)/1000 end end function O.ChannelDuration(L)return L:CastDuration()end function O.CastRemains(L)local N=L:CastEnd()return N and N-s()or 0 end function O.ChannelRemains(L)return L:CastRemains()end function O.CastPercentage(N,L)local u,b,O,y,P=N:CastingInfo()local H,l,f,j,e=N:ChannelingInfo()if y then return((s()*1000-y)/(P-y))*100 end if j then return L and((s()*1000-j)/(e-j))*100 or 100-((s()*1000-j)/(e-j))*100 end return 0 end function O.ChannelPercentage(N,L)return N:CastPercentage(L)end