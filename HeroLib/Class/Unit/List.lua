local L,N=...local u,b=HeroCache,N.Utils local O=N.Unit local y,P,H=O.Player,O.Pet,O.Target local l,f=O.Focus,O.MouseOver local j,e,W=O.Arena,O.Boss,O.Nameplate local r,S=O.Party,O.Raid local M=N.Spell local o=N.Item local t=GetTime local h=type do local L={Shadowlands={R_CoN_SinsoulBulwarkKaal=M(343126);R_CoN_SinsoulBulwarkGrashaal=M(343135);R_CoN_HardenedStoneFormKaal=M(329636);R_CoN_HardenedStoneFormGrashaal=M(329808),R_CoN_UnyieldingShield=M(346694),R_CoN_BloodShroud=M(328921),R_SoD_EternalTorment=M(355790);R_SotFO_GenesisBulwark=M(367573),R_SotFO_DominationsGrasp=M(362505);R_SotFO_IncompleteForm=M(361934);R_SotFO_NebularCloud=M(365381);R_SotFO_BurnedOut=M(369571)};BattleforAzeroth={R_Nya_VoidInfusedIchor=M(308377)},Legion={D_DHT_Submerged=M(220519),R_ToS_SpiritRealm=M(235621)}}local N={[229296]=true,[168932]=true,[169421]=true,[169425]=true;[169426]=true;[169428]=true;[169429]=true;[169430]=true;[194999]=true;[184580]=function(L)return L:HealthPercentage()<=10 end;[184581]=function(L)return L:HealthPercentage()<=10 end,[184582]=function(L)return L:HealthPercentage()<=10 end,[168112]=function(N)return N:BuffUp(L.Shadowlands.R_CoN_SinsoulBulwarkKaal,true)or N:BuffUp(L.Shadowlands.R_CoN_HardenedStoneFormKaal,true)end,[168113]=function(N)return N:BuffUp(L.Shadowlands.R_CoN_SinsoulBulwarkGrashaal,true)or N:BuffUp(L.Shadowlands.R_CoN_HardenedStoneFormGrashaal,true)end;[166970]=function(N)return N:BuffUp(L.Shadowlands.R_CoN_UnyieldingShield,true)end;[166969]=function(N)return N:BuffUp(L.Shadowlands.R_CoN_UnyieldingShield,true)end;[166971]=function(N)return N:BuffUp(L.Shadowlands.R_CoN_UnyieldingShield,true)end;[172803]=true,[173053]=true,[164406]=function(N)return N:BuffUp(L.Shadowlands.R_CoN_BloodShroud,true)end,[177117]=function(N)return N:BuffUp(L.Shadowlands.R_SoD_EternalTorment,true)end;[177222]=true;[177098]=true,[177101]=true,[177099]=true;[178737]=true,[178736]=true,[176581]=true;[178081]=true;[176533]=true;[176532]=true,[178072]=true;[178079]=true;[180385]=true,[185456]=true;[185460]=true,[185480]=true,[185481]=true,[183501]=function(N)return N:BuffUp(L.Shadowlands.R_SotFO_GenesisBulwark,true)end;[181854]=function(N)return N:BuffUp(L.Shadowlands.R_SotFO_DominationsGrasp,true)end;[184830]=true,[183138]=function(N)return N:BuffUp(L.Shadowlands.R_SotFO_IncompleteForm,true)end,[181825]=true,[182823]=function(N)return N:BuffUp(L.Shadowlands.R_SotFO_NebularCloud,true)end,[183945]=function(N)return N:BuffUp(L.Shadowlands.R_SotFO_BurnedOut,true)end,[170483]=true;[160966]=true;[161895]=true;[157602]=function(N)return not(y:IsTanking(N)or y:DebuffUp(L.BattleforAzeroth.R_Nya_VoidInfusedIchor))end;[100991]=function(N)return N:BuffUp(L.Legion.D_DHT_Submerged,true)end;[114881]=true;[118460]=function(N)return y:DebuffUp(L.Legion.R_ToS_SpiritRealm,nil,true)end;[118462]=function(N)return not y:DebuffUp(L.Legion.R_ToS_SpiritRealm,nil,true)end,[120651]=true;[204560]=true}function O.IsBlacklisted(L)local u=L:NPCID()local b=N[u]if b then if h(b)=="\098\111\111\108\101\097\110"then return true else return b(L)end end return false end end do local L=N.GUISettings.General.Blacklist.UserDefined function O.IsUserBlacklisted(N)local u=N:NPCID()local b=L[u]if b then if h(b)=="\098\111\111\108\101\097\110"then return true else return b(N)end end return false end end do local L=N.GUISettings.General.Blacklist.CycleUserDefined function O.IsUserCycleBlacklisted(N)local u=N:NPCID()local b=L[u]if b then if h(b)=="\098\111\111\108\101\097\110"then return true else return b(N)end end return false end end do local L={[94960]=true,[102558]=true;[97202]=true,[95674]=function(L)return L:HealthPercentage()>50 and true or false end;[114360]=true,[114361]=true;[93023]=true,[88769]=true;[76057]=true}function O.IsMfDBlacklisted(N)local u=N:NPCID()local b=L[u]if b then if h(b)=="\098\111\111\108\101\097\110"then return true else return b(N)end end return false end end do local L=N.GUISettings.General.Blacklist.NotFacingExpireMultiplier function O.IsFacingBlacklisted(u)if u:IsUnit(N.UnitNotInFront)and t()-N.UnitNotInFrontTime<=y:GCD()*L then return true end return false end end