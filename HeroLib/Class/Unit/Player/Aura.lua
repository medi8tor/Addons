local c,W=...local e,N=HeroCache,W.Utils local o=W.Unit local t,q,d=o.Player,o.Pet,o.Target local K,J=o.Focus,o.MouseOver local v,P,h=o.Arena,o.Boss,o.Nameplate local O,k=o.Party,o.Raid local V=W.Spell local l=W.Item do local c={{V(1784),V(115191);V(11327);V(115193);V(5215)};{V(115192);V(185422),V(102543)};{V(375939);V(58984)}}function t.StealthRemains(o,W,e,N)if V.Rogue then if W and(V.Rogue.Commons.ShadowDance:TimeSinceLastCast()<.3 or V.Rogue.Commons.Vanish:TimeSinceLastCast()<.3)or e and V.Rogue.Commons.Shadowmeld:TimeSinceLastCast()<.3 then return 1 end end if V.Druid then local c=V.Druid.Feral if c then if W and c.Incarnation:TimeSinceLastCast()<.3 or e and c.Shadowmeld:TimeSinceLastCast()<.3 then return 1 end end end for o=1,#c,1 do if o==1 or o==2 and W or o==3 and e then local W=c[o]for c=1,#W,1 do local e=W[c]if t:BuffUp(e,nil,N)then return t:BuffRemains(e,nil,N)end end end end return 0 end function t.StealthUp(N,c,W,e)return N:StealthRemains(c,W,e)>0 end function t.StealthDown(N,c,W,e)return not N:StealthUp(c,W,e)end end