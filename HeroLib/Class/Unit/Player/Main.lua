local c,W=...local e,N=HeroCache,W.Utils local o=W.Unit local t,q,d=o.Player,o.Pet,o.Target local K,J=o.Focus,o.MouseOver local v,P,h=o.Arena,o.Boss,o.Nameplate local O,k=o.Party,o.Raid local V=W.Spell local l=W.Item local R=IsMounted local m=UnitInParty local H=UnitInRaid local I=UnitInVehicle local w=UnitRace function t.IsMounted(c)return R()and not c:IsOnCombatMount()end function t.IsInParty(c)return m(c.UnitID)end function t.IsInRaid(c)return H(c.UnitID)end function t.Race(c)local W,e=w(c.UnitID)return e end function t.IsRace(W,c)return c and W:Race()==c or false end function t.HeroTree(c)return e.Persistent.Player.ActiveHeroTree end function t.HeroTreeID(c)return e.Persistent.Player.ActiveHeroTreeID end function t.ListHeroTrees(c)return e.Persistent.Player.HeroTrees end do local c={V(131347);V(783),V(165962);V(220509);V(221883);V(221885);V(221886);V(221887);V(254471),V(254472);V(254473);V(254474);V(220480),V(220484),V(220488),V(220489),V(220491);V(220504);V(220507);V(221595);V(221671);V(221672);V(221673);V(218964);V(164222),V(165803)}function t.IsOnCombatMount(W)for e=1,#c,1 do if W:BuffUp(c[e],true)then return true end end return false end end function t.IsInVehicle(c)return I(c.UnitID)and not c:IsInWhitelistedVehicle()end do local c={Spells={V(377222);V(328429),V(346835);V(187819),V(181345);V(157059)};PetMounts={116802,87082,87078,87081,87080,87079;87076}}function t.IsInWhitelistedVehicle(W)local e=c.Spells for c=1,#e,1 do local N=e[c]if W:DebuffUp(N,nil,true)then return true end end local N=c.PetMounts if q:IsActive()then for c=1,#N,1 do local W=N[c]if q:NPCID()==W then return true end end end return false end end