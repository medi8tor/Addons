local T,M=...local I=HeroDBC.DBC local q=HeroLib local W=HeroCache local F=q.Unit local X=F.Player local l=F.Target local y=q.Spell local t=q.Item local K=HeroRotation()local b=K.Cast local z=K.AoEON local k=K.CDsON local u=(K.Commons()).Everyone.num local g=(K.Commons()).Everyone.bool local n=C_Timer.After local Q local v=y.Warrior.Fury local i=t.Warrior.Fury local J={i.Fyralath:ID();i.TreacherousTransmitter:ID()}local a=(K.Commons()).Everyone local j=K.GUISettingsGet()local x={General=j.General,Commons=j.APL.Warrior.Commons,Fury=j.APL.Warrior.Fury,Fury_Defensives=j.APL.Warrior.Fury.Defensives;Fury_TTD=j.APL.Warrior.Fury_TTD,Fury_CDUSE=j.APL.Warrior.Fury_CDUSE;Interrupt=j.APL.Warrior.Fury_Interrupt.Interrupt}local h,R local U,S local Y,m local O,e local p,L local c,V local o,D local s,C local w,B local G,r local N local P,E local Z,f local A,d local H local T9 local M9=11111 local I9=11111 local q9=0 local function W9()local T,M=X:GetTrinketData(J)if q9<5 and(T.ID==0 or M.ID==0 or T.SpellID>0 and not T.Usable or M.SpellID>0 and not M.Usable)then q9=q9+1 n(5,function()W9()end)return end h=T.Object R=M.Object U=T.Spell Y=T.Range O=T.CastTime S=M.Spell m=M.Range e=M.CastTime p=T.Cooldown L=M.Cooldown c=T.Blacklisted V=M.Blacklisted o=T.ID==i.TreacherousTransmitter:ID()D=M.ID==i.TreacherousTransmitter:ID()s=.5 if h:HasUseBuff()and(p%90==0 or p)then s=1 end C=.5 if R:HasUseBuff()and L%90==0 then C=1 end w=h:HasUseBuff()or h:HasStatAnyDps()and not o B=R:HasUseBuff()or R:HasStatAnyDps()and not D local I=h:BuffDuration()>0 and h:BuffDuration()or 1 local q=R:BuffDuration()>0 and R:BuffDuration()or 1 N=1 if not w and B or B and(L/q)*C>(p/I)*s then N=2 end G=T.ID==i.AlgetharPuzzleBox:ID()r=M.ID==i.AlgetharPuzzleBox:ID()end W9()local F9={{v.StormBolt,"\067\097\115\116 \083\116\111\114\109 \066\111\108\116 \040\073\110\116\101\114\114\117\112\116\041",function()return true end}}q:RegisterForEvent(function()M9=11111 I9=11111 end,"\080\076\065\089\069\082\095\082\069\071\069\078\095\069\078\065\066\076\069\068")q:RegisterForEvent(function()q9=0 W9()end,"\080\076\065\089\069\082\095\069\081\085\073\080\077\069\078\084\095\067\072\065\078\071\069\068","\083\080\069\076\076\083\095\067\072\065\078\071\069\068","\076\069\065\082\078\069\068\095\083\080\069\076\076\095\073\078\095\084\065\066")local function X9()return i.ManicGrieftorch:IsEquipped()and(i.ManicGrieftorch:CooldownUp()or i.ManicGrieftorch:CooldownRemains()<=X:GCDRemains())end local function l9()return i.AlgetharPuzzleBox:IsEquipped()and(i.AlgetharPuzzleBox:CooldownUp()or i.AlgetharPuzzleBox:CooldownRemains()<=X:GCDRemains())end local y9 local function t9(T)return T~="\078\111\116 \085\115\101\100"and((T=="\119\105\116\104 \067\111\111\108\100\111\119\110\115"or T=="\115\109\097\108\108 \067\068\115"and x.Fury_CDUSE.smallcdswithCooldowns or T=="\119\105\116\104 \067\111\111\108\100\111\119\110\115 \111\114 \065\111\069"or T=="\111\110 \069\110\101\109\121\099\111\117\110\116 \111\114 \067\111\111\108\100\111\119\110\115"or T=="\111\110 \066\111\115\115 \111\114 \119\105\116\104 \067\111\111\108\100\111\119\110\115")and k()or T=="\097\108\119\097\121\115"or(T=="\111\110 \066\111\115\115 \111\110\108\121"or T=="\111\110 \066\111\115\115 \111\114 \111\110 \069\110\101\109\121\099\111\117\110\116"or T=="\111\110 \066\111\115\115 \111\114 \119\105\116\104 \067\111\111\108\100\111\119\110\115")and(y9 or l:IsDummy())or T=="\119\105\116\104 \066\108\111\111\100\108\117\115\116 \111\110\108\121"and X:BloodlustUp()or T=="\115\109\097\108\108 \067\068\115"and Smallcds or(T=="\111\110 \065\079\069"or T=="\119\105\116\104 \067\111\111\108\100\111\119\110\115 \111\114 \065\111\069")and d>=2 or(T=="\111\110 \069\110\101\109\121\099\111\117\110\116 \111\114 \067\111\111\108\100\111\119\110\115"or T=="\111\110 \069\110\101\109\121\099\111\117\110\116"or T=="\111\110 \066\111\115\115 \111\114 \111\110 \069\110\101\109\121\099\111\117\110\116")and d>=x.Fury_CDUSE.Enemycount)end local function K9(T)return y9 and x.Fury_TTD.IgnoreWhenBoss or a.Buggedmobs[l:NPCID()]or a.ISSolo()and x.Fury_TTD.IgnoreWhenSolo or T==0 or I9>=T and I9<7777 end local function b9(T)return T:NPCID()==204560 end local function z9()if v.VictoryRush:IsCastable()and(H and(X:CanAttack(l)and(X:BuffUp(v.VictoriousBuff)and X:HealthPercentage()<=x.Fury.Defensives.VictoryRushHP)))then if b(v.VictoryRush)then return"\086\105\099\116\111\114\121\082\117\115\104"end end if v.ImpendingVictory:IsCastable()and(H and(X:CanAttack(l)and X:HealthPercentage()<=x.Fury.Defensives.ImpendingVictoryHP))then if b(v.ImpendingVictory)then return"\073\109\112\101\110\100\105\110\103\086\105\099\116\111\114\121"end end if v.BitterImmunity:IsCastable()and(X:AffectingCombat()and X:HealthPercentage()<=x.Fury.Defensives.BitterImmunityHP)then if b(v.BitterImmunity)then return"\066\105\116\116\101\114\073\109\109\117\110\105\116\121"end end if v.EnragedRegeneration:IsCastable()and(X:AffectingCombat()and X:HealthPercentage()<=x.Fury.Defensives.EnragedRegenerationHP)then if b(v.EnragedRegeneration)then return"\069\110\114\097\103\101\100\082\101\103\101\110\101\114\097\116\105\111\110"end end if AutoStance and X:AffectingCombat()then if v.DefensiveStance:IsCastable()and(X:BuffUp(v.BerserkerStance)and X:HealthPercentage()<=x.Fury_Defensives.DefStanceHP)then if b(v.DefensiveStance)then return"\066\101\097\114\070\111\114\109"end end if v.BerserkerStance:IsCastable()and(X:BuffUp(v.DefensiveStance)and(X:HealthPercentage()>x.Fury_Defensives.BerserkerStanceHP and x.Fury_Defensives.BerserkerStanceHP>0))then if b(v.BerserkerStance)then return"\077\111\111\110\107\105\110\070\111\114\109"end end end end local function k9()if v.Recklessness:IsCastable()and(IsRecklessness and(H and not i.Fyralath:IsEquipped()))then if b(v.Recklessness,true)then return"\114\101\099\107\108\101\115\115\110\101\115\115 \112\114\101\099\111\109\098\097\116 \056"end end if v.Avatar:IsCastable()and(IsAvatar and(H and not v.TitansTorment:IsAvailable()))then if b(v.Avatar,true)then return"\097\118\097\116\097\114 \112\114\101\099\111\109\098\097\116 \049\048"end end if v.Bloodthirst:IsCastable()and H then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \112\114\101\099\111\109\098\097\116 \049\050"end end end local function u9()if v.Recklessness:IsCastable()and(H and(IsRecklessness and(not v.AngerManagement:IsAvailable()and(v.Avatar:CooldownRemains()<1 and v.TitansTorment:IsAvailable())or v.AngerManagement:IsAvailable()or not v.TitansTorment:IsAvailable())))then if b(v.Recklessness,true)then return"\114\101\099\107\108\101\115\115\110\101\115\115 \115\108\097\121\101\114\095\115\116 \050"end end if v.Avatar:IsCastable()and(H and(IsAvatar and(v.TitansTorment:IsAvailable()and((T9 or v.TitanicRage:IsAvailable())and(l:DebuffUp(v.ChampionsMightDebuff)or not v.ChampionsMight:IsAvailable()))or not v.TitansTorment:IsAvailable())))then if b(v.Avatar,true)then return"\097\118\097\116\097\114 \115\108\097\121\101\114\095\115\116 \052"end end if v.ThunderousRoar:IsCastable()and(l:IsInMeleeRange(12)and(IsThunderousRoar and T9))then if b(v.ThunderousRoar,true)then return"\116\104\117\110\100\101\114\111\117\115\095\114\111\097\114 \115\108\097\121\101\114\095\115\116 \054"end end if v.ChampionsSpear:IsCastable()and(H and(IsChampionsSpear and(T9 and(v.TitansTorment:IsAvailable()and v.Avatar:CooldownRemains()<X:GCD())or T9 and not v.TitansTorment:IsAvailable())))then if K.CastTarget(v.ChampionsSpear,(K.TName()).PLAYER)then return"\099\104\097\109\112\105\111\110\115\095\115\112\101\097\114 \115\108\097\121\101\114\095\115\116 \056"end end if v.OdynsFury:IsCastable()and(l:IsInMeleeRange(12)and(IsOdynsFury and(l:DebuffRemains(v.OdynsFuryDebuff)<1 and((T9 or v.TitanicRage:IsAvailable())and(v.Avatar:CooldownDown()or not IsAvatar)))))then if b(v.OdynsFury)then return"\111\100\121\110\115\095\102\117\114\121 \115\108\097\121\101\114\095\115\116 \049\048"end end if v.Execute:IsReady()and(H and(l:DebuffStack(v.MarkedforExecutionDebuff)==3 or v.AshenJuggernaut:IsAvailable()and(X:BuffRemains(v.AshenJuggernautBuff)<=X:GCD()and T9)))then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \115\108\097\121\101\114\095\115\116 \049\050"end end if v.Rampage:IsReady()and(H and(v.Bladestorm:IsLearned()and(v.Bladestorm:CooldownRemains()<=X:GCD()and l:DebuffDown(v.ChampionsMightDebuff))))then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \115\108\097\121\101\114\095\115\116 \049\052"end end if v.Bladestorm:IsCastable()and(H and(IsRavager and(T9 and(v.Avatar:CooldownRemains()>=9 or not IsAvatar))))then if b(v.Bladestormcast,true)then return"\098\108\097\100\101\115\116\111\114\109 \115\108\097\121\101\114\095\115\116 \049\054"end end if v.Ravager:IsCastable()and(IsRavager and(H and T9))then if K.CastTarget(v.Ravager,(K.TName()).PLAYER)then return"\114\097\118\097\103\101\114 \115\108\097\121\101\114\095\115\116 \049\055"end end if v.Onslaught:IsReady()and(H and(v.Tenderize:IsAvailable()and X:BuffUp(v.BrutalFinishBuff)))then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \115\108\097\121\101\114\095\115\116 \049\056"end end if v.Rampage:IsReady()and(H and v.AngerManagement:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \115\108\097\121\101\114\095\115\116 \050\048"end end if v.CrushingBlow:IsCastable()and H then if b(v.CrushingBlow)then return"\099\114\117\115\104\105\110\103\095\098\108\111\119 \115\108\097\121\101\114\095\115\116 \050\050"end end if v.Onslaught:IsReady()and(H and v.Tenderize:IsAvailable())then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \115\108\097\121\101\114\095\115\116 \050\052"end end if v.Bloodbath:IsCastable()and(H and(X:Rage()<100 or l:HealthPercentage()<35 and v.ViciousContempt:IsAvailable()))then if b(v.Bloodbath)then return"\098\108\111\111\100\098\097\116\104 \115\108\097\121\101\114\095\115\116 \050\054"end end if v.RagingBlow:IsCastable()and(H and(X:Rage()<100 and X:BuffDown(v.OpportunistBuff)))then if b(v.RagingBlow)then return"\114\097\103\105\110\103\095\098\108\111\119 \115\108\097\121\101\114\095\115\116 \050\056"end end if v.Rampage:IsReady()and(H and v.RecklessAbandon:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \115\108\097\121\101\114\095\115\116 \051\048"end end if v.Execute:IsReady()and(H and(T9 and l:DebuffUp(v.MarkedforExecutionDebuff)))then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \115\108\097\121\101\114\095\115\116 \051\050"end end if v.Bloodthirst:IsCastable()and(H and(not v.RecklessAbandon:IsAvailable()and T9))then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \115\108\097\121\101\114\095\115\116 \051\052"end end if v.RagingBlow:IsCastable()and H then if b(v.RagingBlow)then return"\114\097\103\105\110\103\095\098\108\111\119 \115\108\097\121\101\114\095\115\116 \051\054"end end if v.Onslaught:IsReady()and H then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \115\108\097\121\101\114\095\115\116 \051\056"end end if v.Execute:IsReady()and H then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \115\108\097\121\101\114\095\115\116 \052\048"end end if v.Bloodthirst:IsCastable()and H then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \115\108\097\121\101\114\095\115\116 \052\050"end end if v.Whirlwind:IsCastable()and(l:IsInMeleeRange(8)and v.MeatCleaver:IsAvailable())then if b(v.Whirlwind)then return"\119\104\105\114\108\119\105\110\100 \115\108\097\121\101\114\095\115\116 \052\052"end end if v.Slam:IsCastable()and H then if b(v.Slam)then return"\115\108\097\109 \115\108\097\121\101\114\095\115\116 \052\054"end end if v.StormBolt:IsCastable()and(l:IsInRange(20)and X:BuffUp(v.Bladestorm))then if b(v.StormBolt)then return"\115\116\111\114\109\095\098\111\108\116 \115\108\097\121\101\114\095\115\116 \052\056"end end end local function g9()if v.Recklessness:IsCastable()and(H and(IsRecklessness and(not v.AngerManagement:IsAvailable()and(v.Avatar:CooldownRemains()<1 and v.TitansTorment:IsAvailable())or v.AngerManagement:IsAvailable()or not v.TitansTorment:IsAvailable())))then if b(v.Recklessness,true)then return"\114\101\099\107\108\101\115\115\110\101\115\115 \115\108\097\121\101\114\095\109\116 \050"end end if v.Avatar:IsCastable()and(H and(IsAvatar and(v.TitansTorment:IsAvailable()and((T9 or v.TitanicRage:IsAvailable())and(l:DebuffUp(v.ChampionsMightDebuff)or not v.ChampionsMight:IsAvailable()))or not v.TitansTorment:IsAvailable())))then if b(v.Avatar,true)then return"\097\118\097\116\097\114 \115\108\097\121\101\114\095\109\116 \052"end end if v.ThunderousRoar:IsCastable()and(l:IsInMeleeRange(12)and(IsThunderousRoar and T9))then if b(v.ThunderousRoar,true)then return"\116\104\117\110\100\101\114\111\117\115\095\114\111\097\114 \115\108\097\121\101\114\095\109\116 \054"end end if v.ChampionsSpear:IsCastable()and(H and(IsChampionsSpear and(T9 and(v.TitansTorment:IsAvailable()and v.Avatar:CooldownRemains()<X:GCD())or T9 and not v.TitansTorment:IsAvailable())))then if K.CastTarget(v.ChampionsSpear,(K.TName()).PLAYER)then return"\099\104\097\109\112\105\111\110\115\095\115\112\101\097\114 \115\108\097\121\101\114\095\109\116 \056"end end if v.OdynsFury:IsCastable()and(l:IsInMeleeRange(12)and(IsOdynsFury and(l:DebuffRemains(v.OdynsFuryDebuff)<1 and((T9 or v.TitanicRage:IsAvailable())and(v.Avatar:CooldownDown()or not IsAvatar)))))then if b(v.OdynsFury)then return"\111\100\121\110\115\095\102\117\114\121 \115\108\097\121\101\114\095\109\116 \049\048"end end if v.Whirlwind:IsCastable()and(l:IsInMeleeRange(8)and(X:BuffDown(v.MeatCleaverBuff)and v.MeatCleaver:IsAvailable()))then if b(v.Whirlwind)then return"\119\104\105\114\108\119\105\110\100 \115\108\097\121\101\114\095\109\116 \049\050"end end if v.Execute:IsReady()and(H and(v.AshenJuggernaut:IsAvailable()and(X:BuffRemains(v.AshenJuggernautBuff)<=X:GCD()and T9)))then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \115\108\097\121\101\114\095\109\116 \049\052"end end if v.Rampage:IsReady()and(H and(v.Bladestorm:IsLearned()and(v.Bladestorm:CooldownRemains()<=X:GCD()and l:DebuffDown(v.ChampionsMightDebuff))))then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \115\108\097\121\101\114\095\109\116 \049\054"end end if v.Bladestorm:IsCastable()and(H and(IsRavager and(T9 and(v.Avatar:CooldownRemains()>=9 or not IsAvatar))))then if b(v.Bladestormcast,true)then return"\098\108\097\100\101\115\116\111\114\109 \115\108\097\121\101\114\095\109\116 \049\056"end end if v.Ravager:IsCastable()and(IsRavager and(H and T9))then if K.CastTarget(v.Ravager,(K.TName()).PLAYER)then return"\114\097\118\097\103\101\114 \115\108\097\121\101\114\095\109\116 \049\057"end end if v.Onslaught:IsReady()and(H and(v.Tenderize:IsAvailable()or X:BuffUp(v.BrutalFinishBuff)))then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \115\108\097\121\101\114\095\109\116 \050\048"end end if v.Rampage:IsReady()and(H and v.AngerManagement:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \115\108\097\121\101\114\095\109\116 \050\050"end end if v.CrushingBlow:IsCastable()and H then if b(v.CrushingBlow)then return"\099\114\117\115\104\105\110\103\095\098\108\111\119 \115\108\097\121\101\114\095\109\116 \050\052"end end if v.Onslaught:IsReady()and(H and v.Tenderize:IsAvailable())then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \115\108\097\121\101\114\095\109\116 \050\054"end end if v.Bloodbath:IsCastable()and(H and T9)then if b(v.Bloodbath)then return"\098\108\111\111\100\098\097\116\104 \115\108\097\121\101\114\095\109\116 \050\056"end end if v.Rampage:IsReady()and(H and v.RecklessAbandon:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \115\108\097\121\101\114\095\109\116 \051\048"end end if v.Execute:IsReady()and(H and(T9 and l:DebuffUp(v.MarkedforExecutionDebuff)))then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \115\108\097\121\101\114\095\109\116 \051\050"end end if v.Bloodbath:IsCastable()and H then if b(v.Bloodbath)then return"\098\108\111\111\100\098\097\116\104 \115\108\097\121\101\114\095\109\116 \051\052"end end if v.RagingBlow:IsCastable()and(H and v.SlaughteringStrikes:IsAvailable())then if b(v.RagingBlow)then return"\114\097\103\105\110\103\095\098\108\111\119 \115\108\097\121\101\114\095\109\116 \051\054"end end if v.Onslaught:IsReady()and H then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \115\108\097\121\101\114\095\109\116 \051\056"end end if v.Execute:IsReady()and H then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \115\108\097\121\101\114\095\109\116 \052\048"end end if v.Bloodthirst:IsCastable()and H then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \115\108\097\121\101\114\095\109\116 \052\050"end end if v.RagingBlow:IsCastable()and H then if b(v.RagingBlow)then return"\114\097\103\105\110\103\095\098\108\111\119 \115\108\097\121\101\114\095\109\116 \052\052"end end if v.Whirlwind:IsCastable()and l:IsInMeleeRange(8)then if b(v.Whirlwind)then return"\119\104\105\114\108\119\105\110\100 \115\108\097\121\101\114\095\109\116 \052\054"end end if v.StormBolt:IsCastable()and(l:IsInRange(20)and X:BuffUp(v.Bladestorm))then if b(v.StormBolt)then return"\115\116\111\114\109\095\098\111\108\116 \115\108\097\121\101\114\095\109\116 \052\056"end end end local function n9()if v.Recklessness:IsCastable()and(H and(IsRecklessness and(not v.AngerManagement:IsAvailable()and(v.Avatar:CooldownRemains()<1 and v.TitansTorment:IsAvailable())or v.AngerManagement:IsAvailable()or not v.TitansTorment:IsAvailable())))then if b(v.Recklessness,true)then return"\114\101\099\107\108\101\115\115\110\101\115\115 \116\104\097\110\101\095\115\116 \050"end end if v.ThunderBlastAbility:IsReady()and(l:IsInMeleeRange(8)and T9)then if b(v.ThunderBlastAbility)then return"\116\104\117\110\100\101\114\095\098\108\097\115\116 \116\104\097\110\101\095\115\116 \052"end end if v.Avatar:IsCastable()and(H and(IsAvatar and(v.TitansTorment:IsAvailable()and((T9 or v.TitanicRage:IsAvailable())and(l:DebuffUp(v.ChampionsMightDebuff)or not v.ChampionsMight:IsAvailable()))or not v.TitansTorment:IsAvailable())))then if b(v.Avatar,true)then return"\097\118\097\116\097\114 \116\104\097\110\101\095\115\116 \054"end end if v.Ravager:IsCastable()and(H and IsRavager)then if K.CastTarget(v.Ravager,(K.TName()).PLAYER)then return"\114\097\118\097\103\101\114 \116\104\097\110\101\095\115\116 \056"end end if v.ThunderousRoar:IsCastable()and(l:IsInMeleeRange(12)and(IsThunderousRoar and T9))then if b(v.ThunderousRoar,true)then return"\116\104\117\110\100\101\114\111\117\115\095\114\111\097\114 \116\104\097\110\101\095\115\116 \049\048"end end if v.ChampionsSpear:IsCastable()and(H and(IsChampionsSpear and(T9 and(v.Avatar:CooldownRemains()<X:GCD()or not v.TitansTorment:IsAvailable()))))then if K.CastTarget(v.ChampionsSpear,(K.TName()).PLAYER)then return"\099\104\097\109\112\105\111\110\115\095\115\112\101\097\114 \116\104\097\110\101\095\115\116 \049\050"end end if v.OdynsFury:IsCastable()and(l:IsInMeleeRange(12)and(IsOdynsFury and(l:DebuffRemains(v.OdynsFuryDebuff)<1 and((T9 or v.TitanicRage:IsAvailable())and(v.Avatar:CooldownDown()or not IsAvatar)))))then if b(v.OdynsFury)then return"\111\100\121\110\115\095\102\117\114\121 \116\104\097\110\101\095\115\116 \049\052"end end if v.Execute:IsReady()and(H and(v.AshenJuggernaut:IsAvailable()and(X:BuffRemains(v.AshenJuggernautBuff)<=X:GCD()and T9)))then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \116\104\097\110\101\095\115\116 \049\054"end end if v.Rampage:IsReady()and(H and(v.Bladestorm:IsLearned()and(v.Bladestorm:CooldownRemains()<=X:GCD()and l:DebuffDown(v.ChampionsMightDebuff))))then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \116\104\097\110\101\095\115\116 \049\056"end end if v.Bladestorm:IsCastable()and(H and(IsRavager and(T9 and v.Unhinged:IsAvailable())))then if b(v.Bladestormcast,true)then return"\098\108\097\100\101\115\116\111\114\109 \116\104\097\110\101\095\115\116 \050\048"end end if v.Rampage:IsReady()and(H and v.AngerManagement:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \116\104\097\110\101\095\115\116 \050\050"end end if v.CrushingBlow:IsCastable()and H then if b(v.CrushingBlow)then return"\099\114\117\115\104\105\110\103\095\098\108\111\119 \116\104\097\110\101\095\115\116 \050\052"end end if v.Onslaught:IsReady()and(H and v.Tenderize:IsAvailable())then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \116\104\097\110\101\095\115\116 \050\054"end end if v.Bloodbath:IsCastable()and H then if b(v.Bloodbath)then return"\098\108\111\111\100\098\097\116\104 \116\104\097\110\101\095\115\116 \050\056"end end if v.Rampage:IsReady()and(H and v.RecklessAbandon:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \116\104\097\110\101\095\115\116 \051\048"end end if v.RagingBlow:IsCastable()and H then if b(v.RagingBlow)then return"\114\097\103\105\110\103\095\098\108\111\119 \116\104\097\110\101\095\115\116 \051\050"end end if v.Execute:IsReady()and H then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \116\104\097\110\101\095\115\116 \051\052"end end if v.Bloodthirst:IsCastable()and(H and(T9 and(X:BuffDown(v.BurstofPowerBuff)or not v.RecklessAbandon:IsAvailable())))then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \116\104\097\110\101\095\115\116 \051\054"end end if v.Onslaught:IsReady()and H then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \116\104\097\110\101\095\115\116 \051\056"end end if v.Bloodthirst:IsCastable()and H then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \116\104\097\110\101\095\115\116 \052\048"end end if v.ThunderClap:IsCastable()and l:IsInMeleeRange(8)then if b(v.ThunderClap)then return"\116\104\117\110\100\101\114\095\099\108\097\112 \116\104\097\110\101\095\115\116 \052\050"end end if v.Whirlwind:IsCastable()and(l:IsInMeleeRange(8)and v.MeatCleaver:IsAvailable())then if b(v.Whirlwind)then return"\119\104\105\114\108\119\105\110\100 \116\104\097\110\101\095\115\116 \052\052"end end if v.Slam:IsCastable()and H then if b(v.Slam)then return"\115\108\097\109 \116\104\097\110\101\095\115\116 \052\054"end end end local function Q9()if v.Recklessness:IsCastable()and(H and(IsRecklessness and(not v.AngerManagement:IsAvailable()and(v.Avatar:CooldownRemains()<1 and v.TitansTorment:IsAvailable())or v.AngerManagement:IsAvailable()or not v.TitansTorment:IsAvailable())))then if b(v.Recklessness,true)then return"\114\101\099\107\108\101\115\115\110\101\115\115 \116\104\097\110\101\095\109\116 \050"end end if v.ThunderBlastAbility:IsReady()and(l:IsInMeleeRange(8)and T9)then if b(v.ThunderBlastAbility)then return"\116\104\117\110\100\101\114\095\098\108\097\115\116 \116\104\097\110\101\095\109\116 \052"end end if v.Avatar:IsCastable()and(H and(IsAvatar and(v.TitansTorment:IsAvailable()and((T9 or v.TitanicRage:IsAvailable())and(l:DebuffUp(v.ChampionsMightDebuff)or not v.ChampionsMight:IsAvailable()))or not v.TitansTorment:IsAvailable())))then if b(v.Avatar)then return"\097\118\097\116\097\114 \116\104\097\110\101\095\109\116 \054"end end if v.ThunderClap:IsCastable()and(l:IsInMeleeRange(8)and(X:BuffDown(v.MeatCleaverBuff)and v.MeatCleaver:IsAvailable()))then if b(v.ThunderClap)then return"\116\104\117\110\100\101\114\095\099\108\097\112 \116\104\097\110\101\095\109\116 \056"end end if v.ThunderousRoar:IsCastable()and(l:IsInMeleeRange(12)and(IsThunderousRoar and T9))then if b(v.ThunderousRoar,true)then return"\116\104\117\110\100\101\114\111\117\115\095\114\111\097\114 \116\104\097\110\101\095\109\116 \049\048"end end if v.Ravager:IsCastable()and(H and IsRavager)then if K.CastTarget(v.Ravager,(K.TName()).PLAYER)then return"\114\097\118\097\103\101\114 \116\104\097\110\101\095\109\116 \049\050"end end if v.ChampionsSpear:IsCastable()and(H and(IsChampionsSpear and T9))then if K.CastTarget(v.ChampionsSpear,(K.TName()).PLAYER)then return"\099\104\097\109\112\105\111\110\115\095\115\112\101\097\114 \116\104\097\110\101\095\109\116 \049\052"end end if v.OdynsFury:IsCastable()and(l:IsInMeleeRange(12)and(IsOdynsFury and(l:DebuffRemains(v.OdynsFuryDebuff)<1 and((T9 or v.TitanicRage:IsAvailable())and(v.Avatar:CooldownDown()or not IsAvatar)))))then if b(v.OdynsFury)then return"\111\100\121\110\115\095\102\117\114\121 \116\104\097\110\101\095\109\116 \049\054"end end if v.Execute:IsReady()and(H and(v.AshenJuggernaut:IsAvailable()and(X:BuffRemains(v.AshenJuggernautBuff)<=X:GCD()and T9)))then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \116\104\097\110\101\095\109\116 \049\056"end end if v.Rampage:IsReady()and(H and(v.Bladestorm:IsLearned()and(v.Bladestorm:CooldownRemains()<=X:GCD()and l:DebuffDown(v.ChampionsMightDebuff))))then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \116\104\097\110\101\095\109\116 \050\048"end end if v.Bladestorm:IsCastable()and(H and(IsRavager and T9))then if b(v.Bladestormcast,true)then return"\098\108\097\100\101\115\116\111\114\109 \116\104\097\110\101\095\109\116 \050\050"end end if v.Rampage:IsReady()and(H and v.AngerManagement:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \116\104\097\110\101\095\109\116 \050\052"end end if v.CrushingBlow:IsCastable()and(H and T9)then if b(v.CrushingBlow)then return"\099\114\117\115\104\105\110\103\095\098\108\111\119 \116\104\097\110\101\095\109\116 \050\054"end end if v.Onslaught:IsReady()and(H and v.Tenderize:IsAvailable())then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \116\104\097\110\101\095\109\116 \050\056"end end if v.Bloodbath:IsCastable()and H then if b(v.Bloodbath)then return"\098\108\111\111\100\098\097\116\104 \116\104\097\110\101\095\109\116 \051\048"end end if v.Rampage:IsReady()and(H and v.RecklessAbandon:IsAvailable())then if b(v.Rampage)then return"\114\097\109\112\097\103\101 \116\104\097\110\101\095\109\116 \051\050"end end if v.Bloodthirst:IsCastable()and H then if b(v.Bloodthirst)then return"\098\108\111\111\100\116\104\105\114\115\116 \116\104\097\110\101\095\109\116 \051\052"end end if v.ThunderClap:IsCastable()and l:IsInMeleeRange(8)then if b(v.ThunderClap)then return"\116\104\117\110\100\101\114\095\099\108\097\112 \116\104\097\110\101\095\109\116 \051\054"end end if v.Onslaught:IsReady()and H then if b(v.Onslaught)then return"\111\110\115\108\097\117\103\104\116 \116\104\097\110\101\095\109\116 \051\056"end end if v.Execute:IsReady()and H then if b(v.Executecast)then return"\101\120\101\099\117\116\101 \116\104\097\110\101\095\109\116 \052\048"end end if v.RagingBlow:IsCastable()and H then if b(v.RagingBlow)then return"\114\097\103\105\110\103\095\098\108\111\119 \116\104\097\110\101\095\109\116 \052\050"end end if v.Whirlwind:IsCastable()and l:IsInMeleeRange(8)then if b(v.Whirlwind)then return"\119\104\105\114\108\119\105\110\100 \116\104\097\110\101\095\109\116 \052\052"end end end local function v9()if x.Commons.Enabled.Items and(i.Fyralath:IsEquippedAndReady()and(H and(IsWeapon and v.MarkofFyralathDebuff:AuraActiveCount()>0)))then K.CastMacro(1,nil,nil,i.Fyralath)return"\119\101\097\112\111\110 \099\097\115\116"end if x.Commons.Enabled.Trinkets then if i.TreacherousTransmitter:IsEquippedAndReady()and((h:ID()==i.TreacherousTransmitter:ID()and IsTrinket1 or R:ID()==i.TreacherousTransmitter:ID()and IsTrinket2)and(E or P))then if b(i.TreacherousTransmitter,true)then return"\116\114\101\097\099\104\101\114\111\117\115\095\116\114\097\110\115\109\105\116\116\101\114 \116\114\105\110\107\101\116\115 \050"end end if h:IsReady()and(H and(IsTrinket1 and(not c and(w and(not G and((X:BuffDown(v.AvatarBuff)and O>0 or O==0)and((v.TitansTorment:IsAvailable()and v.Avatar:CooldownUp()or X:BuffUp(v.AvatarBuff)and not v.TitansTorment:IsAvailable())and(D or not R:HasCooldown()or R:CooldownDown()or N==1))))or h:BuffDuration()>=M9))))then if b(h,true)then return"\117\115\101\095\105\116\101\109 \102\111\114 "..(h:Name().." \116\114\105\110\107\101\116\115 \052")end end if R:IsReady()and(H and(IsTrinket2 and(not V and(B and(not r and((X:BuffDown(v.AvatarBuff)and e>0 or e==0)and((v.TitansTorment:IsAvailable()and v.Avatar:CooldownUp()or X:BuffUp(v.AvatarBuff)and not v.TitansTorment:IsAvailable())and(o or not h:HasCooldown()or h:CooldownDown()or N==2))))or R:BuffDuration()>=M9))))then if b(R,true)then return"\117\115\101\095\105\116\101\109 \102\111\114 "..(R:Name().." \116\114\105\110\107\101\116\115 \054")end end if h:IsReady()and(H and(IsTrinket1 and(not c and(not w and((O>0 and X:BuffDown(v.AvatarBuff)or O==0)and(not G and(not w and(R:CooldownDown()or not B)or O>0 and X:BuffDown(v.AvatarBuff)or O==0 or v.Avatar:CooldownRemains()>20)))))))then if b(h,true)then return"\117\115\101\095\105\116\101\109 \102\111\114 "..(h:Name().." \116\114\105\110\107\101\116\115 \056")end end if R:IsReady()and(H and(IsTrinket2 and(not V and(not B and((e>0 and X:BuffDown(v.AvatarBuff)or e==0)and(not r and(not B and(h:CooldownDown()or not w)or e>0 and X:BuffDown(v.AvatarBuff)or e==0 or v.Avatar:CooldownRemains()>20)))))))then if b(R,true)then return"\117\115\101\095\105\116\101\109 \102\111\114 "..(R:Name().." \116\114\105\110\107\101\116\115 \049\048")end end end if x.Commons.Enabled.Items then local T,M,I=X:GetUseableItems(J,16)if T and(T:IsReady()and(IsWeapon and(l:IsInRange(I)and(not i.Fyralath:IsEquipped()and((not w or p)and(not B or L))))))then K.CastMacro(1,nil,nil,T)return"\119\101\097\112\111\110 \099\097\115\116"end end end local function i9()P=d==1 E=d>=2 Z=v.Massacre:IsAvailable()and l:HealthPercentage()<35 or l:HealthPercentage()<20 f=X:BuffDown(v.RecklessnessBuff)and(X:BuffDown(v.AvatarBuff)and(X:Rage()<80 and(X:BuffDown(v.BloodbathBuff)and(X:BuffDown(v.CrushingBlowBuff)and(X:BuffDown(v.SuddenDeathBuff)and(v.Bladestorm:CooldownDown()and(v.Execute:CooldownDown()or not Z)))))))end local function J9()A=X:GetEnemiesInMeleeRange(8)if z()then d=#A else d=1 end Smallcds=K.ToggleIconFrame:GetToggle(1)AutoStance=K.ToggleIconFrame:GetToggle(2)InterruptToggle=K.ToggleIconFrame:GetToggle(3)Lowlevel=not v.SlayersDominance:IsAvailable()and not v.LightningStrikes:IsAvailable()IsAvatar=K9(x.Fury_TTD.AvatarTTD)and t9(x.Fury_CDUSE.Avatar)IsRacials=K9(x.Fury_TTD.RacialsTTD)and t9(x.Fury_CDUSE.Racials)IsPotions=K9(x.Fury_TTD.PotionsTTD)and((x.Fury_CDUSE.Potionswhensolo or not x.Fury_CDUSE.Potionswhensolo and not a.ISSolo())and t9(x.Fury_CDUSE.Potions))IsTrinket1=K9(x.Fury_TTD.TrinketsTTD)and t9(x.Fury_CDUSE.Trinket1)IsTrinket2=K9(x.Fury_TTD.TrinketsTTD)and t9(x.Fury_CDUSE.Trinket2)IsRecklessness=K9(x.Fury_TTD.RecklessnessTTD)and t9(x.Fury_CDUSE.Recklessness)IsRavager=K9(x.Fury_TTD.RavagerTTD)and t9(x.Fury_CDUSE.Ravager)IsThunderousRoar=K9(x.Fury_TTD.ThunderousRoarTTD)and t9(x.Fury_CDUSE.ThunderousRoar)IsChampionsSpear=K9(x.Fury_TTD.ChampionsSpearTTD)and t9(x.Fury_CDUSE.ChampionsSpear)IsOdynsFury=K9(x.Fury_TTD.OdynsFuryTTD)and t9(x.Fury_CDUSE.OdynsFury)IsWeapon=K9(x.Fury_TTD.WeaponTTD)and t9(x.Fury_CDUSE.Weapon)local T=0 if v.RumblingEarth:IsAvailable()then T=16 else T=10 end T9=X:BuffUp(v.EnrageBuff)H=l:IsInRange(5)if a.TargetIsValid()or X:AffectingCombat()then M9=q.BossFightRemains()y9=true I9=M9 if I9==11111 then y9=false I9=q.FightRemains(A,false)end end if v.BattleShout:IsCastable()and(not X:DebuffUp(v.Corruption)and((a.GroupBuffMissing(v.BattleShoutBuff,true)and(x.Commons.BattleShout=="\099\104\101\099\107 \119\104\111\108\101 \103\114\111\117\112"and(X:IsInRaidArea()or X:IsInDungeonArea()))or X:BuffDown(v.BattleShoutBuff,true)and(x.Commons.BattleShout=="\111\110\108\121 \099\104\101\099\107 \117\115"or x.Commons.BattleShout=="\099\104\101\099\107 \119\104\111\108\101 \103\114\111\117\112"))and not X:IsMounted()))then if K.Cast(v.BattleShout)then return"\066\097\116\116\108\101\083\104\111\117\116"end end if x.Commons.CCIncorperal then Q=a.IncorpCycle(v.IntimidatingShout,8,false,false)Q=a.IncorpCycle(v.StormBolt,20,false,false)if Q then return Q end end local M=X:IncomingSpell(Warrior.SpellReflectList)local I=X:IncomingSpellreflection(Warrior.SpellReflectList)if I and K.DebugON()then print("\083\112\101\108\108 \082\101\102\108\101\099\116 \067\097\115\116\058 "..I)end local W=X:BuffUp(v.SpellReflection)or M and(v.SpellReflection:IsReady()and x.Commons.AutoSpellreflection)if v.SpellReflection:IsReady()and(I and x.Commons.AutoSpellreflection)then if b(v.SpellReflection,true)then return"\083\112\101\108\108 \082\101\102\108\101\099\116\105\111\110"end end if v.BerserkerStance:IsCastable()and(AutoStance and(X:BuffDown(v.BerserkerStance,true)and X:HealthPercentage()>x.Fury_Defensives.BerserkerStanceHP))then if b(v.BerserkerStance)then return"\098\101\114\115\101\114\107\101\114\095\115\116\097\110\099\101 \112\114\101\099\111\109\098\097\116 \052"end end Q=z9()if Q then return Q end if a.TargetIsValid()then if not x.Fury.AttackonlyinCombat or x.Fury.AttackonlyinCombat and l:AffectingCombat()then if not b9(F.Target)then if not X:AffectingCombat()then Q=k9()if Q then return Q end end if InterruptToggle and not W then Q=a.InterruptCycle(v.Pummel,5,true,nil,false)if Q then return Q end Q=x.Interrupt.UseStormbolt and a.InterruptCycle(v.StormBolt,20,false,nil,true)if Q then return Q end Q=x.Interrupt.UseShockwave and a.InterruptCycle(v.Shockwave,T,false,nil,true,true)if Q then return Q end end if IsPotions and(x.Commons.Enabled.Potions and H)then local T=a.PotionSelected()if T and T:IsReady()then K.CastMacro(3,nil,nil,T)return"\067\097\115\116 \080\111\116\105\111\110"end end if x.Commons.Enabled.Trinkets or x.Commons.Enabled.Items then local T=v9()if T then return T end end i9()if v.LightsJudgment:IsCastable()and(l:IsSpellInRange(v.LightsJudgment)and(IsRacials and f))then if b(v.LightsJudgment,true)then return"\108\105\103\104\116\115\095\106\117\100\103\109\101\110\116 \109\097\105\110 \049\054"end end if v.Berserking:IsCastable()and(H and(IsRacials and f))then if b(v.Berserking,true)then return"\098\101\114\115\101\114\107\105\110\103 \109\097\105\110 \049\056"end end if v.BloodFury:IsCastable()and(H and IsRacials)then if b(v.BloodFury,true)then return"\098\108\111\111\100\095\102\117\114\121 \109\097\105\110 \050\048"end end if v.Fireblood:IsCastable()and(H and IsRacials)then if b(v.Fireblood,true)then return"\102\105\114\101\098\108\111\111\100 \109\097\105\110 \050\050"end end if v.AncestralCall:IsCastable()and(H and IsRacials)then if b(v.AncestralCall,true)then return"\097\110\099\101\115\116\114\097\108\095\099\097\108\108 \109\097\105\110 \050\052"end end if(v.SlayersDominance:IsAvailable()or Lowlevel)and d<2 then local T=u9()if T then return T end if K.CastAnnotated(v.Pool,false,"\087\065\073\084")then return"\080\111\111\108 \102\111\114 \083\108\097\121\101\114\083\084\040\041"end end if(v.SlayersDominance:IsAvailable()or Lowlevel)and d>1 then local T=g9()if T then return T end if K.CastAnnotated(v.Pool,false,"\087\065\073\084")then return"\080\111\111\108 \102\111\114 \083\108\097\121\101\114\077\084\040\041"end end if v.LightningStrikes:IsAvailable()and(d<2 or not z())then local T=n9()if T then return T end if K.CastAnnotated(v.Pool,false,"\087\065\073\084")then return"\080\111\111\108 \102\111\114 \084\104\097\110\101\083\084\040\041"end end if v.LightningStrikes:IsAvailable()and(d>1 and z())then local T=Q9()if T then return T end if K.CastAnnotated(v.Pool,false,"\087\065\073\084")then return"\080\111\111\108 \102\111\114 \084\104\097\110\101\077\084\040\041"end end if K.CastAnnotated(v.Pool,false,"\087\065\073\084")then return"\087\097\105\116\047\080\111\111\108 \082\101\115\111\117\114\099\101\115"end end end end end local function a9()K.ResetToggle()x.Fury.Display()v.MarkofFyralathDebuff:RegisterAuraTracking()K:UpdateMacro("\109\097\099\114\111\049","\047\117\115\101 \105\116\101\109\058\050\048\054\052\052\056")K.ToggleIconFrame:AddButtonCustom("\083",1,"\115\109\097\108\108\067\068\115","\115\109\097\108\108\099\100\115")K.ToggleIconFrame:AddButtonCustom("\065",2,"\065\117\116\111 \083\116\097\110\099\101","\097\117\116\111\115\116\097\110\099\101")K.ToggleIconFrame:AddButtonCustom("\073",3,"\073\110\116\101\114\114\117\112\116","\105\110\116\101\114\114\117\112\116")K.Print("\070\117\114\121 \087\097\114\114\105\111\114 \114\111\116\097\116\105\111\110 \104\097\115 \098\101\101\110 \117\112\100\097\116\101\100 \102\111\114 \112\097\116\099\104 \049\049\046\048\046\050\046 \076\097\115\116 \085\112\100\097\116\101 \050\056\046\048\057\046\050\048\050\052")end K.SetAPL(72,J9,a9)